---
format: html
---

# Trombinoscope {-}

C'est plus sympa de savoir qui est qui, et d'appeler les gens par leur prénom, alors voici la tête de nos licenciés :

```{r echo=FALSE, results='asis', message=FALSE, warning=FALSE}
photos <- list.files("trombi", pattern = "\\.png$",
                     full.names = TRUE, recursive = FALSE)
# Retirer celles qui ne sont plus là
photos_docs <- list.files("docs/trombi", pattern = "\\.png$", 
                          full.names = TRUE, recursive = FALSE)
osef <- file.remove(setdiff(photos_docs, paste0("docs/", photos)))

photos_ordered <- photos[order(file.info(photos)$mtime, decreasing = TRUE)]

html_code <- sapply(photos_ordered, function(path) {
  
  prenom <- sub("(.+)_(.+)\\.png", "\\1", basename(path))
  nom    <- sub("(.+)_(.+)\\.png", "\\2", basename(path))
  
  paste0(
    "<div style='
      flex: 1 1 85px;
      height: 182px;
      margin: 5px;
      text-align: center;
      vertical-align: top;
    '>",
    "<img src='", path, "' style='width:100%; max-width:95px; border-radius:8px; box-shadow: 0 4px 6px rgba(0,0,0,0.1);'><br>",
    "<div style='height:70px; overflow:hidden; line-height:1.3em; font-size: 0.9em; margin-top: 2px;'>",
    "<strong>", tools::toTitleCase(tolower(prenom)), "</strong><br>", tools::toTitleCase(tolower(nom)),
    "</div></div>"
  )
})

cat("<div id='photos' style='display: flex; flex-wrap: wrap; justify-content: center; align-content: flex-start;'>\n"); cat(paste(html_code, collapse = "\n")); cat("\n</div>")
```
